(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function n(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Pending";e(this,n),this.id=null,this.name=t,this.brewery=r,this.abv=a,this.rating=i}var r,a;return r=n,(a=[{key:"rate",value:function(e){this.rating=e}}])&&t(r.prototype,a),n}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){var t=this;r(this,e),this.beerList=new Map;for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];a.forEach((function(e){return t.saveBeer(e)}))}var t,n;return t=e,(n=[{key:"saveBeer",value:function(e){var t=this.beerList.size+1;return e.id=t,this.beerList.set(t,e),e}},{key:"updateBeerRatingById",value:function(e,t){console.log(e),console.log(t);var n=this.beerList.get(e);return n.rating=t,this.beerList.set(e,n),n}},{key:"getAllBeers",value:function(){return this.beerList}}])&&a(t.prototype,n),e}();const o=function(e){var t=document.createElement("td");return t.innerText=e,t},d=function(e,t){var n=document.createElement("button");return n.setAttribute("class","btn btn-primary m-1"),n.innerHTML=e,n.onclick=function(){n.dispatchEvent(new CustomEvent("beerRated",{detail:{beerId:t,rating:e},bubbles:!0}))},n},c=function(e){var t=document.createElement("tr");t.setAttribute("id","row-".concat(e.id));var n,r,a,i,c,l=o(e.id),u=o(e.name),s=o(e.brewery),m=o(e.abv),p=o(e.rating),b=(n=e.id,r=document.createElement("td"),a=d("Rubbish",n),i=d("Ok",n),c=d("Great",n),r.appendChild(a),r.appendChild(i),r.appendChild(c),r);return t.appendChild(l),t.appendChild(u),t.appendChild(s),t.appendChild(m),t.appendChild(p),t.appendChild(b),t},l=function(e){var t=c(e);document.querySelector("tbody").appendChild(t)},u=function(e){var t=document.createElement("div");t.className="mb-3";var n,r=document.createElement("label");r.for=e,r.className="from-".concat(e),r.innerText=(n=e).charAt(0).toUpperCase()+n.slice(1);var a=document.createElement("input");return a.id="".concat(e,"Field"),a.type="text",a.className="form-control",t.appendChild(r),t.appendChild(a),t};window.onload=function(){var e,t,r,a=new n("Snake Eyes","Two by Two",5),o=new n("Green","Almasty",5),d=new n("Jakehead","Wylam",6.2),s=new i(a,o,d),m=document.querySelector(".container");m.appendChild(((r=document.createElement("table")).id="beersTable",r.className="table",r.appendChild(function(){for(var e=document.createElement("thead"),t=document.createElement("tr"),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return r.forEach((function(e){var n=document.createElement("th");n.innerText=e,t.appendChild(n)})),e.appendChild(t),e}("ID","Name","Brewery","ABV","Rating","Rate it!")),r.appendChild(document.createElement("tbody")),r)),m.appendChild(((t=document.createElement("form")).appendChild(u("name")),t.appendChild(u("brewery")),t.appendChild(u("abv")),t.appendChild(((e=document.createElement("button")).className="btn btn-primary",e.innerText="Submit",e.onclick=function(t){t.preventDefault();var r=document.querySelector("#nameField").value,a=document.querySelector("#breweryField").value,i=document.querySelector("#abvField").value,o=(document.querySelector("tbody").children.length,new n(r,a,i));e.dispatchEvent(new CustomEvent("beerSubmitted",{detail:{beer:o},bubbles:!0}))},e)),t)),s.getAllBeers().forEach((function(e){l(e)})),document.body.addEventListener("beerSubmitted",(function(e){var t=s.saveBeer(e.detail.beer);l(t)})),document.body.addEventListener("beerRated",(function(e){var t,n;console.log(e),t=s.updateBeerRatingById(e.detail.beerId,e.detail.rating),(n=document.querySelector("#row-".concat(t.id))).replaceWith(c(t)),n.innerText=t.rating}))}})();